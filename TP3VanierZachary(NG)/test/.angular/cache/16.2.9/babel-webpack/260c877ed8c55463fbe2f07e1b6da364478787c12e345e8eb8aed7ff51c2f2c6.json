{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../voyage.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction VoyageCardHandlerComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"img\", 4);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_1_Template_img_click_5_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const voyage_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.navigateToVoyageDetail(voyage_r3.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 5)(7, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_1_Template_button_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const voyage_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.confirmDelete(voyage_r3.id));\n    });\n    i0.ɵɵtext(8, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_1_Template_button_click_9_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const voyage_r3 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.showShareDialog(voyage_r3.id));\n    });\n    i0.ɵɵtext(10, \"Share\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const voyage_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(voyage_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(voyage_r3.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", \"https://localhost:7011\" + voyage_r3.coverImageUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction VoyageCardHandlerComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8)(2, \"h2\");\n    i0.ɵɵtext(3, \"Partager le voyage\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 9);\n    i0.ɵɵtext(5, \"Courriel de l'utilisateur:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 10);\n    i0.ɵɵlistener(\"ngModelChange\", function VoyageCardHandlerComponent_div_2_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.emailToShare = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 11)(8, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_2_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.shareVoyage());\n    });\n    i0.ɵɵtext(9, \"Inviter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_2_Template_button_click_10_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.closeOverlay());\n    });\n    i0.ɵɵtext(11, \"Annuler\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.emailToShare);\n  }\n}\nfunction VoyageCardHandlerComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 12)(2, \"h2\");\n    i0.ɵɵtext(3, \"Are you sure you want to delete this voyage?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 11)(5, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_3_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.deleteVoyage());\n    });\n    i0.ɵɵtext(6, \"Yes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 6);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_3_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.closeOverlay());\n    });\n    i0.ɵɵtext(8, \"No\");\n    i0.ɵɵelementEnd()()()();\n  }\n}\nexport class VoyageCardHandlerComponent {\n  constructor(voyageService, router) {\n    this.voyageService = voyageService;\n    this.router = router;\n    this.voyages = [];\n    this.showShareOverlay = false;\n    this.showDeleteConfirmation = false;\n    this.selectedVoyageId = null;\n    this.emailToShare = '';\n  } // Inject the Router\n  ngOnInit() {\n    this.fetchVoyages();\n  }\n  fetchVoyages() {\n    this.voyageService.getAllVoyages().subscribe(data => {\n      this.voyages = data;\n    }, error => {\n      console.error('Error fetching voyages', error);\n    });\n  }\n  confirmDelete(voyageId) {\n    this.selectedVoyageId = voyageId;\n    this.showDeleteConfirmation = true;\n  }\n  deleteVoyage() {\n    if (this.selectedVoyageId !== null) {\n      this.voyageService.deleteVoyage(this.selectedVoyageId).subscribe(() => {\n        this.voyages = this.voyages.filter(voyage => voyage.id !== this.selectedVoyageId);\n        this.closeOverlay();\n      }, error => {\n        console.error('Error deleting voyage', error);\n      });\n    }\n  }\n  showShareDialog(voyageId) {\n    this.selectedVoyageId = voyageId;\n    this.showShareOverlay = true;\n  }\n  navigateToVoyageDetail(voyageId) {\n    // Navigate to the voyage-detail route with the id as a parameter\n    this.router.navigate(['/voyage-detail', voyageId]);\n  }\n  shareVoyage() {\n    if (this.selectedVoyageId !== null) {\n      // Implement sharing logic here\n      console.log(`Sharing voyage ${this.selectedVoyageId} with ${this.emailToShare}`);\n      // Call API to share voyage, and then...\n      this.closeOverlay();\n    }\n  }\n  closeOverlay() {\n    this.showShareOverlay = false;\n    this.showDeleteConfirmation = false;\n    this.selectedVoyageId = null;\n    this.emailToShare = '';\n  }\n  static #_ = this.ɵfac = function VoyageCardHandlerComponent_Factory(t) {\n    return new (t || VoyageCardHandlerComponent)(i0.ɵɵdirectiveInject(i1.VoyageService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VoyageCardHandlerComponent,\n    selectors: [[\"app-voyage-card-handler\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"card-container\"], [\"class\", \"voyage-card\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"overlay\", 4, \"ngIf\"], [1, \"voyage-card\"], [\"alt\", \"Cover image\", 3, \"src\", \"click\"], [1, \"card-actions\"], [3, \"click\"], [1, \"overlay\"], [1, \"share-popup\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [1, \"popup-actions\"], [1, \"delete-popup\"]],\n    template: function VoyageCardHandlerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, VoyageCardHandlerComponent_div_1_Template, 11, 3, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, VoyageCardHandlerComponent_div_2_Template, 12, 1, \"div\", 2);\n        i0.ɵɵtemplate(3, VoyageCardHandlerComponent_div_3_Template, 9, 0, \"div\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.voyages);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showShareOverlay);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showDeleteConfirmation);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel],\n    styles: [\".card-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-wrap: wrap;\\n    justify-content: center;\\n    gap: 20px;\\n    padding: 20px;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%] {\\n    background-color: #2C3E50;\\n    color: #ECF0F1;\\n    padding: 15px;\\n    border-radius: 8px;\\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\\n    width: 300px;\\n    transition: transform 0.3s ease, box-shadow 0.3s ease;\\n    position: relative;\\n    overflow: hidden;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]:hover {\\n    transform: translateY(-5px);\\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: auto;\\n    border-radius: 5px;\\n    margin-bottom: 10px;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    margin-top: 0;\\n    margin-bottom: 10px;\\n    font-size: 1.5em;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n    line-height: 1.6;\\n    text-align: justify;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    padding: 10px 20px;\\n    border: none;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    font-weight: bold;\\n    margin-right: 10px;\\n    transition: background-color 0.2s ease;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background-color: #3498DB;\\n}\\n\\n\\n\\n.overlay[_ngcontent-%COMP%] {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    background-color: rgba(0, 0, 0, 0.7);\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n}\\n\\n.share-popup[_ngcontent-%COMP%], .delete-popup[_ngcontent-%COMP%] {\\n    background-color: #34495E;\\n    padding: 20px;\\n    border-radius: 10px;\\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);\\n    width: 90%;\\n    max-width: 400px;\\n    text-align: center;\\n}\\n\\n.share-popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .delete-popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    color: #ECF0F1;\\n}\\n\\ninput[type=\\\"email\\\"][_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 10px;\\n    margin-top: 10px;\\n    margin-bottom: 20px;\\n    border: 1px solid #AAB7B8;\\n    border-radius: 5px;\\n    box-sizing: border-box;\\n}\\n\\n\\n\\n.overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    padding: 10px 20px;\\n    border: none;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    font-weight: bold;\\n    margin-top: 10px;\\n    transition: background-color 0.2s ease;\\n    width: 100px;\\n}\\n\\n.overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background-color: #E74C3C;\\n    color: white;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    cursor: pointer; \\n\\n    transition: transform 0.3s ease;\\n  }\\n  \\n  .voyage-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover {\\n    transform: scale(1.03); \\n\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdm95YWdlLWNhcmQtaGFuZGxlci92b3lhZ2UtY2FyZC1oYW5kbGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixTQUFTO0lBQ1QsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix5Q0FBeUM7SUFDekMsWUFBWTtJQUNaLHFEQUFxRDtJQUNyRCxrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLDBDQUEwQztBQUM5Qzs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUEsbUJBQW1CO0FBQ25CO0lBQ0ksZUFBZTtJQUNmLE1BQU07SUFDTixPQUFPO0lBQ1AsV0FBVztJQUNYLFlBQVk7SUFDWixvQ0FBb0M7SUFDcEMsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7QUFDdkI7O0FBRUE7O0lBRUkseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIseUNBQXlDO0lBQ3pDLFVBQVU7SUFDVixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBOztJQUVJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixzQkFBc0I7QUFDMUI7O0FBRUEsMEJBQTBCO0FBQzFCO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsc0NBQXNDO0lBQ3RDLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGVBQWUsRUFBRSxxQ0FBcUM7SUFDdEQsK0JBQStCO0VBQ2pDOztFQUVBO0lBQ0Usc0JBQXNCLEVBQUUsb0NBQW9DO0VBQzlEIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcmQtY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LXdyYXA6IHdyYXA7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGdhcDogMjBweDtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbn1cclxuXHJcbi52b3lhZ2UtY2FyZCB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkMzRTUwO1xyXG4gICAgY29sb3I6ICNFQ0YwRjE7XHJcbiAgICBwYWRkaW5nOiAxNXB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMyk7XHJcbiAgICB3aWR0aDogMzAwcHg7XHJcbiAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4zcyBlYXNlLCBib3gtc2hhZG93IDAuM3MgZWFzZTtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbn1cclxuXHJcbi52b3lhZ2UtY2FyZDpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTVweCk7XHJcbiAgICBib3gtc2hhZG93OiAwIDEwcHggMjBweCByZ2JhKDAsIDAsIDAsIDAuNCk7XHJcbn1cclxuXHJcbi52b3lhZ2UtY2FyZCBpbWcge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG59XHJcblxyXG4udm95YWdlLWNhcmQgaDMge1xyXG4gICAgbWFyZ2luLXRvcDogMDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBmb250LXNpemU6IDEuNWVtO1xyXG59XHJcblxyXG4udm95YWdlLWNhcmQgcCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xyXG4gICAgbGluZS1oZWlnaHQ6IDEuNjtcclxuICAgIHRleHQtYWxpZ246IGp1c3RpZnk7XHJcbn1cclxuXHJcbi52b3lhZ2UtY2FyZCBidXR0b24ge1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDEwcHg7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZTtcclxufVxyXG5cclxuLnZveWFnZS1jYXJkIGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzQ5OERCO1xyXG59XHJcblxyXG4vKiBPdmVybGF5IFN0eWxlcyAqL1xyXG4ub3ZlcmxheSB7XHJcbiAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuNyk7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcblxyXG4uc2hhcmUtcG9wdXAsXHJcbi5kZWxldGUtcG9wdXAge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM0NDk1RTtcclxuICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiAxMHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCA1cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuNSk7XHJcbiAgICB3aWR0aDogOTAlO1xyXG4gICAgbWF4LXdpZHRoOiA0MDBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG5cclxuLnNoYXJlLXBvcHVwIGgyLFxyXG4uZGVsZXRlLXBvcHVwIGgyIHtcclxuICAgIGNvbG9yOiAjRUNGMEYxO1xyXG59XHJcblxyXG5pbnB1dFt0eXBlPVwiZW1haWxcIl0ge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjQUFCN0I4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcclxufVxyXG5cclxuLyogQnV0dG9ucyBpbnNpZGUgcG9wdXBzICovXHJcbi5vdmVybGF5IGJ1dHRvbiB7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDIwcHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZTtcclxuICAgIHdpZHRoOiAxMDBweDtcclxufVxyXG5cclxuLm92ZXJsYXkgYnV0dG9uOmhvdmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNFNzRDM0M7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbn1cclxuXHJcbi52b3lhZ2UtY2FyZCBpbWcge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyOyAvKiBJbmRpY2F0ZXMgdGhlIGltYWdlIGlzIGNsaWNrYWJsZSAqL1xyXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZTtcclxuICB9XHJcbiAgXHJcbiAgLnZveWFnZS1jYXJkIGltZzpob3ZlciB7XHJcbiAgICB0cmFuc2Zvcm06IHNjYWxlKDEuMDMpOyAvKiBTbGlnaHRseSBlbmxhcmdlIGltYWdlIG9uIGhvdmVyICovXHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","VoyageCardHandlerComponent_div_1_Template_img_click_5_listener","restoredCtx","ɵɵrestoreView","_r5","voyage_r3","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","navigateToVoyageDetail","id","VoyageCardHandlerComponent_div_1_Template_button_click_7_listener","ctx_r6","confirmDelete","VoyageCardHandlerComponent_div_1_Template_button_click_9_listener","ctx_r7","showShareDialog","ɵɵadvance","ɵɵtextInterpolate","title","description","ɵɵproperty","coverImageUrl","ɵɵsanitizeUrl","VoyageCardHandlerComponent_div_2_Template_input_ngModelChange_6_listener","$event","_r9","ctx_r8","emailToShare","VoyageCardHandlerComponent_div_2_Template_button_click_8_listener","ctx_r10","shareVoyage","VoyageCardHandlerComponent_div_2_Template_button_click_10_listener","ctx_r11","closeOverlay","ctx_r1","VoyageCardHandlerComponent_div_3_Template_button_click_5_listener","_r13","ctx_r12","deleteVoyage","VoyageCardHandlerComponent_div_3_Template_button_click_7_listener","ctx_r14","VoyageCardHandlerComponent","constructor","voyageService","router","voyages","showShareOverlay","showDeleteConfirmation","selectedVoyageId","ngOnInit","fetchVoyages","getAllVoyages","subscribe","data","error","console","voyageId","filter","voyage","navigate","log","_","ɵɵdirectiveInject","i1","VoyageService","i2","Router","_2","selectors","decls","vars","consts","template","VoyageCardHandlerComponent_Template","rf","ctx","ɵɵtemplate","VoyageCardHandlerComponent_div_1_Template","VoyageCardHandlerComponent_div_2_Template","VoyageCardHandlerComponent_div_3_Template"],"sources":["C:\\Users\\Zachary\\Desktop\\TP3WebVanierZachary\\TP3VanierZachary(NG)\\test\\src\\app\\voyage-card-handler\\voyage-card-handler.component.ts","C:\\Users\\Zachary\\Desktop\\TP3WebVanierZachary\\TP3VanierZachary(NG)\\test\\src\\app\\voyage-card-handler\\voyage-card-handler.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { VoyageService } from '../voyage.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-voyage-card-handler',\n  templateUrl: './voyage-card-handler.component.html',\n  styleUrls: ['./voyage-card-handler.component.css']\n})\nexport class VoyageCardHandlerComponent implements OnInit {\n  voyages: any[] = [];\n  showShareOverlay: boolean = false;\n  showDeleteConfirmation: boolean = false;\n  selectedVoyageId: number | null = null;\n  emailToShare: string = '';\n\n  \n  constructor(private voyageService: VoyageService, private router: Router) { } // Inject the Router\n\n  ngOnInit(): void {\n    this.fetchVoyages();\n  }\n\n  fetchVoyages(): void {\n    this.voyageService.getAllVoyages().subscribe(data => {\n      this.voyages = data;\n    }, error => {\n      console.error('Error fetching voyages', error);\n    });\n  }\n\n  confirmDelete(voyageId: number): void {\n    this.selectedVoyageId = voyageId;\n    this.showDeleteConfirmation = true;\n  }\n\n  deleteVoyage(): void {\n    if (this.selectedVoyageId !== null) {\n      this.voyageService.deleteVoyage(this.selectedVoyageId).subscribe(() => {\n        this.voyages = this.voyages.filter(voyage => voyage.id !== this.selectedVoyageId);\n        this.closeOverlay();\n      }, error => {\n        console.error('Error deleting voyage', error);\n      });\n    }\n  }\n\n  showShareDialog(voyageId: number): void {\n    this.selectedVoyageId = voyageId;\n    this.showShareOverlay = true;\n  }\n\n  navigateToVoyageDetail(voyageId: number): void {\n    // Navigate to the voyage-detail route with the id as a parameter\n    this.router.navigate(['/voyage-detail', voyageId]);\n  }\n\n  shareVoyage(): void {\n    if (this.selectedVoyageId !== null) {\n      // Implement sharing logic here\n      console.log(`Sharing voyage ${this.selectedVoyageId} with ${this.emailToShare}`);\n      // Call API to share voyage, and then...\n      this.closeOverlay();\n    }\n  }\n\n  closeOverlay(): void {\n    this.showShareOverlay = false;\n    this.showDeleteConfirmation = false;\n    this.selectedVoyageId = null;\n    this.emailToShare = '';\n  }\n}\n","<div class=\"card-container\">\n    <div *ngFor=\"let voyage of voyages\" class=\"voyage-card\">\n      <h3>{{ voyage.title }}</h3>\n      <p>{{ voyage.description }}</p>\n      <!-- Add a click event that calls navigateToVoyageDetail method with the voyage id -->\n      <img [src]=\"'https://localhost:7011' + voyage.coverImageUrl\" alt=\"Cover image\" (click)=\"navigateToVoyageDetail(voyage.id)\">\n      <div class=\"card-actions\">\n        <button (click)=\"confirmDelete(voyage.id)\">Delete</button>\n        <button (click)=\"showShareDialog(voyage.id)\">Share</button>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Overlay for Sharing Voyage -->\n  <div *ngIf=\"showShareOverlay\" class=\"overlay\">\n    <div class=\"share-popup\">\n      <h2>Partager le voyage</h2>\n      <label for=\"email\">Courriel de l'utilisateur:</label>\n      <input type=\"email\" [(ngModel)]=\"emailToShare\" id=\"email\" name=\"email\">\n      <div class=\"popup-actions\">\n        <button (click)=\"shareVoyage()\">Inviter</button>\n        <button (click)=\"closeOverlay()\">Annuler</button>\n      </div>\n    </div>\n  </div>\n  \n  <!-- Overlay for Confirm Delete -->\n  <div *ngIf=\"showDeleteConfirmation\" class=\"overlay\">\n    <div class=\"delete-popup\">\n      <h2>Are you sure you want to delete this voyage?</h2>\n      <div class=\"popup-actions\">\n        <button (click)=\"deleteVoyage()\">Yes</button>\n        <button (click)=\"closeOverlay()\">No</button>\n      </div>\n    </div>\n  </div>\n  "],"mappings":";;;;;;;;ICCIA,EAAA,CAAAC,cAAA,aAAwD;IAClDD,EAAA,CAAAE,MAAA,GAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC3BH,EAAA,CAAAC,cAAA,QAAG;IAAAD,EAAA,CAAAE,MAAA,GAAwB;IAAAF,EAAA,CAAAG,YAAA,EAAI;IAE/BH,EAAA,CAAAC,cAAA,aAA2H;IAA5CD,EAAA,CAAAI,UAAA,mBAAAC,+DAAA;MAAA,MAAAC,WAAA,GAAAN,EAAA,CAAAO,aAAA,CAAAC,GAAA;MAAA,MAAAC,SAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAC,MAAA,GAAAX,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAF,MAAA,CAAAG,sBAAA,CAAAL,SAAA,CAAAM,EAAA,CAAiC;IAAA,EAAC;IAA1Hf,EAAA,CAAAG,YAAA,EAA2H;IAC3HH,EAAA,CAAAC,cAAA,aAA0B;IAChBD,EAAA,CAAAI,UAAA,mBAAAY,kEAAA;MAAA,MAAAV,WAAA,GAAAN,EAAA,CAAAO,aAAA,CAAAC,GAAA;MAAA,MAAAC,SAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAO,MAAA,GAAAjB,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAI,MAAA,CAAAC,aAAA,CAAAT,SAAA,CAAAM,EAAA,CAAwB;IAAA,EAAC;IAACf,EAAA,CAAAE,MAAA,aAAM;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAC1DH,EAAA,CAAAC,cAAA,gBAA6C;IAArCD,EAAA,CAAAI,UAAA,mBAAAe,kEAAA;MAAA,MAAAb,WAAA,GAAAN,EAAA,CAAAO,aAAA,CAAAC,GAAA;MAAA,MAAAC,SAAA,GAAAH,WAAA,CAAAI,SAAA;MAAA,MAAAU,MAAA,GAAApB,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAO,MAAA,CAAAC,eAAA,CAAAZ,SAAA,CAAAM,EAAA,CAA0B;IAAA,EAAC;IAACf,EAAA,CAAAE,MAAA,aAAK;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IANzDH,EAAA,CAAAsB,SAAA,GAAkB;IAAlBtB,EAAA,CAAAuB,iBAAA,CAAAd,SAAA,CAAAe,KAAA,CAAkB;IACnBxB,EAAA,CAAAsB,SAAA,GAAwB;IAAxBtB,EAAA,CAAAuB,iBAAA,CAAAd,SAAA,CAAAgB,WAAA,CAAwB;IAEtBzB,EAAA,CAAAsB,SAAA,GAAuD;IAAvDtB,EAAA,CAAA0B,UAAA,mCAAAjB,SAAA,CAAAkB,aAAA,EAAA3B,EAAA,CAAA4B,aAAA,CAAuD;;;;;;IAShE5B,EAAA,CAAAC,cAAA,aAA8C;IAEtCD,EAAA,CAAAE,MAAA,yBAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC3BH,EAAA,CAAAC,cAAA,eAAmB;IAAAD,EAAA,CAAAE,MAAA,iCAA0B;IAAAF,EAAA,CAAAG,YAAA,EAAQ;IACrDH,EAAA,CAAAC,cAAA,gBAAuE;IAAnDD,EAAA,CAAAI,UAAA,2BAAAyB,yEAAAC,MAAA;MAAA9B,EAAA,CAAAO,aAAA,CAAAwB,GAAA;MAAA,MAAAC,MAAA,GAAAhC,EAAA,CAAAY,aAAA;MAAA,OAAAZ,EAAA,CAAAa,WAAA,CAAAmB,MAAA,CAAAC,YAAA,GAAAH,MAAA;IAAA,EAA0B;IAA9C9B,EAAA,CAAAG,YAAA,EAAuE;IACvEH,EAAA,CAAAC,cAAA,cAA2B;IACjBD,EAAA,CAAAI,UAAA,mBAAA8B,kEAAA;MAAAlC,EAAA,CAAAO,aAAA,CAAAwB,GAAA;MAAA,MAAAI,OAAA,GAAAnC,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAsB,OAAA,CAAAC,WAAA,EAAa;IAAA,EAAC;IAACpC,EAAA,CAAAE,MAAA,cAAO;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAChDH,EAAA,CAAAC,cAAA,iBAAiC;IAAzBD,EAAA,CAAAI,UAAA,mBAAAiC,mEAAA;MAAArC,EAAA,CAAAO,aAAA,CAAAwB,GAAA;MAAA,MAAAO,OAAA,GAAAtC,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAyB,OAAA,CAAAC,YAAA,EAAc;IAAA,EAAC;IAACvC,EAAA,CAAAE,MAAA,eAAO;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;;IAH/BH,EAAA,CAAAsB,SAAA,GAA0B;IAA1BtB,EAAA,CAAA0B,UAAA,YAAAc,MAAA,CAAAP,YAAA,CAA0B;;;;;;IASlDjC,EAAA,CAAAC,cAAA,aAAoD;IAE5CD,EAAA,CAAAE,MAAA,mDAA4C;IAAAF,EAAA,CAAAG,YAAA,EAAK;IACrDH,EAAA,CAAAC,cAAA,cAA2B;IACjBD,EAAA,CAAAI,UAAA,mBAAAqC,kEAAA;MAAAzC,EAAA,CAAAO,aAAA,CAAAmC,IAAA;MAAA,MAAAC,OAAA,GAAA3C,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAA8B,OAAA,CAAAC,YAAA,EAAc;IAAA,EAAC;IAAC5C,EAAA,CAAAE,MAAA,UAAG;IAAAF,EAAA,CAAAG,YAAA,EAAS;IAC7CH,EAAA,CAAAC,cAAA,gBAAiC;IAAzBD,EAAA,CAAAI,UAAA,mBAAAyC,kEAAA;MAAA7C,EAAA,CAAAO,aAAA,CAAAmC,IAAA;MAAA,MAAAI,OAAA,GAAA9C,EAAA,CAAAY,aAAA;MAAA,OAASZ,EAAA,CAAAa,WAAA,CAAAiC,OAAA,CAAAP,YAAA,EAAc;IAAA,EAAC;IAACvC,EAAA,CAAAE,MAAA,SAAE;IAAAF,EAAA,CAAAG,YAAA,EAAS;;;ADvBpD,OAAM,MAAO4C,0BAA0B;EAQrCC,YAAoBC,aAA4B,EAAUC,MAAc;IAApD,KAAAD,aAAa,GAAbA,aAAa;IAAyB,KAAAC,MAAM,GAANA,MAAM;IAPhE,KAAAC,OAAO,GAAU,EAAE;IACnB,KAAAC,gBAAgB,GAAY,KAAK;IACjC,KAAAC,sBAAsB,GAAY,KAAK;IACvC,KAAAC,gBAAgB,GAAkB,IAAI;IACtC,KAAArB,YAAY,GAAW,EAAE;EAGmD,CAAC,CAAC;EAE9EsB,QAAQA,CAAA;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAYA,CAAA;IACV,IAAI,CAACP,aAAa,CAACQ,aAAa,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MAClD,IAAI,CAACR,OAAO,GAAGQ,IAAI;IACrB,CAAC,EAAEC,KAAK,IAAG;MACTC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CAAC;EACJ;EAEA1C,aAAaA,CAAC4C,QAAgB;IAC5B,IAAI,CAACR,gBAAgB,GAAGQ,QAAQ;IAChC,IAAI,CAACT,sBAAsB,GAAG,IAAI;EACpC;EAEAT,YAAYA,CAAA;IACV,IAAI,IAAI,CAACU,gBAAgB,KAAK,IAAI,EAAE;MAClC,IAAI,CAACL,aAAa,CAACL,YAAY,CAAC,IAAI,CAACU,gBAAgB,CAAC,CAACI,SAAS,CAAC,MAAK;QACpE,IAAI,CAACP,OAAO,GAAG,IAAI,CAACA,OAAO,CAACY,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACjD,EAAE,KAAK,IAAI,CAACuC,gBAAgB,CAAC;QACjF,IAAI,CAACf,YAAY,EAAE;MACrB,CAAC,EAAEqB,KAAK,IAAG;QACTC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C,CAAC,CAAC;;EAEN;EAEAvC,eAAeA,CAACyC,QAAgB;IAC9B,IAAI,CAACR,gBAAgB,GAAGQ,QAAQ;IAChC,IAAI,CAACV,gBAAgB,GAAG,IAAI;EAC9B;EAEAtC,sBAAsBA,CAACgD,QAAgB;IACrC;IACA,IAAI,CAACZ,MAAM,CAACe,QAAQ,CAAC,CAAC,gBAAgB,EAAEH,QAAQ,CAAC,CAAC;EACpD;EAEA1B,WAAWA,CAAA;IACT,IAAI,IAAI,CAACkB,gBAAgB,KAAK,IAAI,EAAE;MAClC;MACAO,OAAO,CAACK,GAAG,CAAC,kBAAkB,IAAI,CAACZ,gBAAgB,SAAS,IAAI,CAACrB,YAAY,EAAE,CAAC;MAChF;MACA,IAAI,CAACM,YAAY,EAAE;;EAEvB;EAEAA,YAAYA,CAAA;IACV,IAAI,CAACa,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACC,sBAAsB,GAAG,KAAK;IACnC,IAAI,CAACC,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACrB,YAAY,GAAG,EAAE;EACxB;EAAC,QAAAkC,CAAA,G;qBA9DUpB,0BAA0B,EAAA/C,EAAA,CAAAoE,iBAAA,CAAAC,EAAA,CAAAC,aAAA,GAAAtE,EAAA,CAAAoE,iBAAA,CAAAG,EAAA,CAAAC,MAAA;EAAA;EAAA,QAAAC,EAAA,G;UAA1B1B,0BAA0B;IAAA2B,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,oCAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCTvChF,EAAA,CAAAC,cAAA,aAA4B;QACxBD,EAAA,CAAAkF,UAAA,IAAAC,yCAAA,kBASM;QACRnF,EAAA,CAAAG,YAAA,EAAM;QAGNH,EAAA,CAAAkF,UAAA,IAAAE,yCAAA,kBAUM;QAGNpF,EAAA,CAAAkF,UAAA,IAAAG,yCAAA,iBAQM;;;QAlCoBrF,EAAA,CAAAsB,SAAA,GAAU;QAAVtB,EAAA,CAAA0B,UAAA,YAAAuD,GAAA,CAAA9B,OAAA,CAAU;QAa9BnD,EAAA,CAAAsB,SAAA,GAAsB;QAAtBtB,EAAA,CAAA0B,UAAA,SAAAuD,GAAA,CAAA7B,gBAAA,CAAsB;QAatBpD,EAAA,CAAAsB,SAAA,GAA4B;QAA5BtB,EAAA,CAAA0B,UAAA,SAAAuD,GAAA,CAAA5B,sBAAA,CAA4B"},"metadata":{},"sourceType":"module","externalDependencies":[]}