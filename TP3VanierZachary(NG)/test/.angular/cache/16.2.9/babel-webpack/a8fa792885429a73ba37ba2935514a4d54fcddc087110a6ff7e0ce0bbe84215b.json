{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let VoyageCardHandlerComponent = class VoyageCardHandlerComponent {\n  constructor(voyageService, router) {\n    this.voyageService = voyageService;\n    this.router = router;\n    this.voyages = [];\n    this.showShareOverlay = false;\n    this.showDeleteConfirmation = false;\n    this.selectedVoyageId = null;\n    this.emailToShare = '';\n  } // Inject the Router\n  ngOnInit() {\n    this.fetchVoyages();\n  }\n  fetchVoyages() {\n    this.voyageService.getAllVoyages().subscribe(data => {\n      this.voyages = data;\n    }, error => {\n      console.error('Error fetching voyages', error);\n    });\n  }\n  confirmDelete(voyageId) {\n    this.selectedVoyageId = voyageId;\n    this.showDeleteConfirmation = true;\n  }\n  deleteVoyage() {\n    if (this.selectedVoyageId !== null) {\n      this.voyageService.deleteVoyage(this.selectedVoyageId).subscribe(() => {\n        this.voyages = this.voyages.filter(voyage => voyage.id !== this.selectedVoyageId);\n        this.closeOverlay();\n      }, error => {\n        console.error('Error deleting voyage', error);\n      });\n    }\n  }\n  showShareDialog(voyageId) {\n    this.selectedVoyageId = voyageId;\n    this.showShareOverlay = true;\n  }\n  shareVoyage() {\n    if (this.selectedVoyageId !== null) {\n      // Implement sharing logic here\n      console.log(`Sharing voyage ${this.selectedVoyageId} with ${this.emailToShare}`);\n      // Call API to share voyage, and then...\n      this.closeOverlay();\n    }\n  }\n  closeOverlay() {\n    this.showShareOverlay = false;\n    this.showDeleteConfirmation = false;\n    this.selectedVoyageId = null;\n    this.emailToShare = '';\n  }\n};\nVoyageCardHandlerComponent = __decorate([Component({\n  selector: 'app-voyage-card-handler',\n  templateUrl: './voyage-card-handler.component.html',\n  styleUrls: ['./voyage-card-handler.component.css']\n})], VoyageCardHandlerComponent);","map":{"version":3,"names":["Component","VoyageCardHandlerComponent","constructor","voyageService","router","voyages","showShareOverlay","showDeleteConfirmation","selectedVoyageId","emailToShare","ngOnInit","fetchVoyages","getAllVoyages","subscribe","data","error","console","confirmDelete","voyageId","deleteVoyage","filter","voyage","id","closeOverlay","showShareDialog","shareVoyage","log","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Zachary\\Desktop\\TP3WebVanierZachary\\TP3VanierZachary(NG)\\test\\src\\app\\voyage-card-handler\\voyage-card-handler.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { VoyageService } from '../voyage.service';\n\n@Component({\n  selector: 'app-voyage-card-handler',\n  templateUrl: './voyage-card-handler.component.html',\n  styleUrls: ['./voyage-card-handler.component.css']\n})\nexport class VoyageCardHandlerComponent implements OnInit {\n  voyages: any[] = [];\n  showShareOverlay: boolean = false;\n  showDeleteConfirmation: boolean = false;\n  selectedVoyageId: number | null = null;\n  emailToShare: string = '';\n\n  \n  constructor(private voyageService: VoyageService, private router: Router) { } // Inject the Router\n\n  ngOnInit(): void {\n    this.fetchVoyages();\n  }\n\n  fetchVoyages(): void {\n    this.voyageService.getAllVoyages().subscribe(data => {\n      this.voyages = data;\n    }, error => {\n      console.error('Error fetching voyages', error);\n    });\n  }\n\n  confirmDelete(voyageId: number): void {\n    this.selectedVoyageId = voyageId;\n    this.showDeleteConfirmation = true;\n  }\n\n  deleteVoyage(): void {\n    if (this.selectedVoyageId !== null) {\n      this.voyageService.deleteVoyage(this.selectedVoyageId).subscribe(() => {\n        this.voyages = this.voyages.filter(voyage => voyage.id !== this.selectedVoyageId);\n        this.closeOverlay();\n      }, error => {\n        console.error('Error deleting voyage', error);\n      });\n    }\n  }\n\n  showShareDialog(voyageId: number): void {\n    this.selectedVoyageId = voyageId;\n    this.showShareOverlay = true;\n  }\n\n  shareVoyage(): void {\n    if (this.selectedVoyageId !== null) {\n      // Implement sharing logic here\n      console.log(`Sharing voyage ${this.selectedVoyageId} with ${this.emailToShare}`);\n      // Call API to share voyage, and then...\n      this.closeOverlay();\n    }\n  }\n\n  closeOverlay(): void {\n    this.showShareOverlay = false;\n    this.showDeleteConfirmation = false;\n    this.selectedVoyageId = null;\n    this.emailToShare = '';\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAQ1C,WAAMC,0BAA0B,GAAhC,MAAMA,0BAA0B;EAQrCC,YAAoBC,aAA4B,EAAUC,MAAc;IAApD,KAAAD,aAAa,GAAbA,aAAa;IAAyB,KAAAC,MAAM,GAANA,MAAM;IAPhE,KAAAC,OAAO,GAAU,EAAE;IACnB,KAAAC,gBAAgB,GAAY,KAAK;IACjC,KAAAC,sBAAsB,GAAY,KAAK;IACvC,KAAAC,gBAAgB,GAAkB,IAAI;IACtC,KAAAC,YAAY,GAAW,EAAE;EAGmD,CAAC,CAAC;EAE9EC,QAAQA,CAAA;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAYA,CAAA;IACV,IAAI,CAACR,aAAa,CAACS,aAAa,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MAClD,IAAI,CAACT,OAAO,GAAGS,IAAI;IACrB,CAAC,EAAEC,KAAK,IAAG;MACTC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAChD,CAAC,CAAC;EACJ;EAEAE,aAAaA,CAACC,QAAgB;IAC5B,IAAI,CAACV,gBAAgB,GAAGU,QAAQ;IAChC,IAAI,CAACX,sBAAsB,GAAG,IAAI;EACpC;EAEAY,YAAYA,CAAA;IACV,IAAI,IAAI,CAACX,gBAAgB,KAAK,IAAI,EAAE;MAClC,IAAI,CAACL,aAAa,CAACgB,YAAY,CAAC,IAAI,CAACX,gBAAgB,CAAC,CAACK,SAAS,CAAC,MAAK;QACpE,IAAI,CAACR,OAAO,GAAG,IAAI,CAACA,OAAO,CAACe,MAAM,CAACC,MAAM,IAAIA,MAAM,CAACC,EAAE,KAAK,IAAI,CAACd,gBAAgB,CAAC;QACjF,IAAI,CAACe,YAAY,EAAE;MACrB,CAAC,EAAER,KAAK,IAAG;QACTC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;MAC/C,CAAC,CAAC;;EAEN;EAEAS,eAAeA,CAACN,QAAgB;IAC9B,IAAI,CAACV,gBAAgB,GAAGU,QAAQ;IAChC,IAAI,CAACZ,gBAAgB,GAAG,IAAI;EAC9B;EAEAmB,WAAWA,CAAA;IACT,IAAI,IAAI,CAACjB,gBAAgB,KAAK,IAAI,EAAE;MAClC;MACAQ,OAAO,CAACU,GAAG,CAAC,kBAAkB,IAAI,CAAClB,gBAAgB,SAAS,IAAI,CAACC,YAAY,EAAE,CAAC;MAChF;MACA,IAAI,CAACc,YAAY,EAAE;;EAEvB;EAEAA,YAAYA,CAAA;IACV,IAAI,CAACjB,gBAAgB,GAAG,KAAK;IAC7B,IAAI,CAACC,sBAAsB,GAAG,KAAK;IACnC,IAAI,CAACC,gBAAgB,GAAG,IAAI;IAC5B,IAAI,CAACC,YAAY,GAAG,EAAE;EACxB;CACD;AA1DYR,0BAA0B,GAAA0B,UAAA,EALtC3B,SAAS,CAAC;EACT4B,QAAQ,EAAE,yBAAyB;EACnCC,WAAW,EAAE,sCAAsC;EACnDC,SAAS,EAAE,CAAC,qCAAqC;CAClD,CAAC,C,EACW7B,0BAA0B,CA0DtC"},"metadata":{},"sourceType":"module","externalDependencies":[]}