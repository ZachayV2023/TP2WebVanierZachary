{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../voyage.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction VoyageCardHandlerComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"h3\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"img\", 4);\n    i0.ɵɵelementStart(6, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_1_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const voyage_r3 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.confirmDelete(voyage_r3.id));\n    });\n    i0.ɵɵtext(7, \"Delete\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_1_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const voyage_r3 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.showShareDialog(voyage_r3.id));\n    });\n    i0.ɵɵtext(9, \"Share\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const voyage_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(voyage_r3.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(voyage_r3.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", voyage_r3.coverImageUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction VoyageCardHandlerComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 7)(2, \"h2\");\n    i0.ɵɵtext(3, \"Partager le voyage\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"label\", 8);\n    i0.ɵɵtext(5, \"Courriel de l'utilisateur:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function VoyageCardHandlerComponent_div_2_Template_input_ngModelChange_6_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.emailToShare = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_2_Template_button_click_7_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.shareVoyage(ctx_r9.selectedVoyageId));\n    });\n    i0.ɵɵtext(8, \"Inviter\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_2_Template_button_click_9_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.closeOverlay());\n    });\n    i0.ɵɵtext(10, \"Annuler\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.emailToShare);\n  }\n}\nfunction VoyageCardHandlerComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"div\", 10)(2, \"h2\");\n    i0.ɵɵtext(3, \"Are you sure you want to delete this voyage?\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_3_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.deleteVoyage(ctx_r11.selectedVoyageId));\n    });\n    i0.ɵɵtext(5, \"Yes\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"button\", 5);\n    i0.ɵɵlistener(\"click\", function VoyageCardHandlerComponent_div_3_Template_button_click_6_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.closeOverlay());\n    });\n    i0.ɵɵtext(7, \"No\");\n    i0.ɵɵelementEnd()()();\n  }\n}\nexport class VoyageCardHandlerComponent {\n  constructor(voyageService) {\n    this.voyageService = voyageService;\n    this.voyages = [];\n    this.showShareOverlay = false;\n    this.showDeleteConfirmation = false;\n    this.selectedVoyageId = null;\n    this.emailToShare = '';\n  }\n  ngOnInit() {\n    this.fetchVoyages();\n  }\n  fetchVoyages() {\n    this.voyageService.getAllVoyages().subscribe(data => {\n      this.voyages = data;\n    }, error => {\n      console.error('Error fetching voyages', error);\n    });\n  }\n  confirmDelete(voyageId) {\n    this.selectedVoyageId = voyageId;\n    this.showDeleteConfirmation = true;\n  }\n  deleteVoyage() {\n    if (this.selectedVoyageId !== null) {\n      this.voyageService.deleteVoyage(this.selectedVoyageId).subscribe(() => {\n        this.voyages = this.voyages.filter(voyage => voyage.id !== this.selectedVoyageId);\n        this.closeOverlay();\n      }, error => {\n        console.error('Error deleting voyage', error);\n      });\n    }\n  }\n  showShareDialog(voyageId) {\n    this.selectedVoyageId = voyageId;\n    this.showShareOverlay = true;\n  }\n  shareVoyage() {\n    if (this.selectedVoyageId !== null) {\n      // Implement sharing logic here\n      console.log(`Sharing voyage ${this.selectedVoyageId} with ${this.emailToShare}`);\n      // Call API to share voyage, and then...\n      this.closeOverlay();\n    }\n  }\n  closeOverlay() {\n    this.showShareOverlay = false;\n    this.showDeleteConfirmation = false;\n    this.selectedVoyageId = null;\n    this.emailToShare = '';\n  }\n  static #_ = this.ɵfac = function VoyageCardHandlerComponent_Factory(t) {\n    return new (t || VoyageCardHandlerComponent)(i0.ɵɵdirectiveInject(i1.VoyageService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: VoyageCardHandlerComponent,\n    selectors: [[\"app-voyage-card-handler\"]],\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"card-container\"], [\"class\", \"voyage-card\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"overlay\", 4, \"ngIf\"], [1, \"voyage-card\"], [\"alt\", \"Cover image\", 3, \"src\"], [3, \"click\"], [1, \"overlay\"], [1, \"share-popup\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [1, \"delete-popup\"]],\n    template: function VoyageCardHandlerComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, VoyageCardHandlerComponent_div_1_Template, 10, 3, \"div\", 1);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(2, VoyageCardHandlerComponent_div_2_Template, 11, 1, \"div\", 2);\n        i0.ɵɵtemplate(3, VoyageCardHandlerComponent_div_3_Template, 8, 0, \"div\", 2);\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.voyages);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showShareOverlay);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showDeleteConfirmation);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n    styles: [\".card-container[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-wrap: wrap;\\n    justify-content: center;\\n    gap: 20px;\\n    padding: 20px;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%] {\\n    background-color: #2C3E50;\\n    color: #ECF0F1;\\n    padding: 15px;\\n    border-radius: 8px;\\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\\n    width: 300px;\\n    transition: transform 0.3s ease, box-shadow 0.3s ease;\\n    position: relative;\\n    overflow: hidden;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]:hover {\\n    transform: translateY(-5px);\\n    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: auto;\\n    border-radius: 5px;\\n    margin-bottom: 10px;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    margin-top: 0;\\n    margin-bottom: 10px;\\n    font-size: 1.5em;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n    margin-bottom: 15px;\\n    line-height: 1.6;\\n    text-align: justify;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    padding: 10px 20px;\\n    border: none;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    font-weight: bold;\\n    margin-right: 10px;\\n    transition: background-color 0.2s ease;\\n}\\n\\n.voyage-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background-color: #3498DB;\\n}\\n\\n\\n\\n.overlay[_ngcontent-%COMP%] {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    width: 100%;\\n    height: 100%;\\n    background-color: rgba(0, 0, 0, 0.7);\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n}\\n\\n.share-popup[_ngcontent-%COMP%], .delete-popup[_ngcontent-%COMP%] {\\n    background-color: #34495E;\\n    padding: 20px;\\n    border-radius: 10px;\\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);\\n    width: 90%;\\n    max-width: 400px;\\n    text-align: center;\\n}\\n\\n.share-popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .delete-popup[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n    color: #ECF0F1;\\n}\\n\\ninput[type=\\\"email\\\"][_ngcontent-%COMP%] {\\n    width: 100%;\\n    padding: 10px;\\n    margin-top: 10px;\\n    margin-bottom: 20px;\\n    border: 1px solid #AAB7B8;\\n    border-radius: 5px;\\n    box-sizing: border-box;\\n}\\n\\n\\n\\n.overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n    padding: 10px 20px;\\n    border: none;\\n    border-radius: 5px;\\n    cursor: pointer;\\n    font-weight: bold;\\n    margin-top: 10px;\\n    transition: background-color 0.2s ease;\\n    width: 100px;\\n}\\n\\n.overlay[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover {\\n    background-color: #E74C3C;\\n    color: white;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdm95YWdlLWNhcmQtaGFuZGxlci92b3lhZ2UtY2FyZC1oYW5kbGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxhQUFhO0lBQ2IsZUFBZTtJQUNmLHVCQUF1QjtJQUN2QixTQUFTO0lBQ1QsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix5Q0FBeUM7SUFDekMsWUFBWTtJQUNaLHFEQUFxRDtJQUNyRCxrQkFBa0I7SUFDbEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksMkJBQTJCO0lBQzNCLDBDQUEwQztBQUM5Qzs7QUFFQTtJQUNJLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLG1CQUFtQjtBQUN2Qjs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksbUJBQW1CO0lBQ25CLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsWUFBWTtJQUNaLGtCQUFrQjtJQUNsQixlQUFlO0lBQ2YsaUJBQWlCO0lBQ2pCLGtCQUFrQjtJQUNsQixzQ0FBc0M7QUFDMUM7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUEsbUJBQW1CO0FBQ25CO0lBQ0ksZUFBZTtJQUNmLE1BQU07SUFDTixPQUFPO0lBQ1AsV0FBVztJQUNYLFlBQVk7SUFDWixvQ0FBb0M7SUFDcEMsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7QUFDdkI7O0FBRUE7O0lBRUkseUJBQXlCO0lBQ3pCLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIseUNBQXlDO0lBQ3pDLFVBQVU7SUFDVixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBOztJQUVJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsYUFBYTtJQUNiLGdCQUFnQjtJQUNoQixtQkFBbUI7SUFDbkIseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQixzQkFBc0I7QUFDMUI7O0FBRUEsMEJBQTBCO0FBQzFCO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsc0NBQXNDO0lBQ3RDLFlBQVk7QUFDaEI7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsWUFBWTtBQUNoQiIsInNvdXJjZXNDb250ZW50IjpbIi5jYXJkLWNvbnRhaW5lciB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC13cmFwOiB3cmFwO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBnYXA6IDIwcHg7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG59XHJcblxyXG4udm95YWdlLWNhcmQge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzJDM0U1MDtcclxuICAgIGNvbG9yOiAjRUNGMEYxO1xyXG4gICAgcGFkZGluZzogMTVweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDhweDtcclxuICAgIGJveC1zaGFkb3c6IDAgNXB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjMpO1xyXG4gICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZSwgYm94LXNoYWRvdyAwLjNzIGVhc2U7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG59XHJcblxyXG4udm95YWdlLWNhcmQ6aG92ZXIge1xyXG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01cHgpO1xyXG4gICAgYm94LXNoYWRvdzogMCAxMHB4IDIwcHggcmdiYSgwLCAwLCAwLCAwLjQpO1xyXG59XHJcblxyXG4udm95YWdlLWNhcmQgaW1nIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxufVxyXG5cclxuLnZveWFnZS1jYXJkIGgzIHtcclxuICAgIG1hcmdpbi10b3A6IDA7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgZm9udC1zaXplOiAxLjVlbTtcclxufVxyXG5cclxuLnZveWFnZS1jYXJkIHAge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMTVweDtcclxuICAgIGxpbmUtaGVpZ2h0OiAxLjY7XHJcbiAgICB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xyXG59XHJcblxyXG4udm95YWdlLWNhcmQgYnV0dG9uIHtcclxuICAgIHBhZGRpbmc6IDEwcHggMjBweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiAxMHB4O1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2U7XHJcbn1cclxuXHJcbi52b3lhZ2UtY2FyZCBidXR0b246aG92ZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzM0OThEQjtcclxufVxyXG5cclxuLyogT3ZlcmxheSBTdHlsZXMgKi9cclxuLm92ZXJsYXkge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgbGVmdDogMDtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwLjcpO1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLnNoYXJlLXBvcHVwLFxyXG4uZGVsZXRlLXBvcHVwIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzNDQ5NUU7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIGJveC1zaGFkb3c6IDAgNXB4IDE1cHggcmdiYSgwLCAwLCAwLCAwLjUpO1xyXG4gICAgd2lkdGg6IDkwJTtcclxuICAgIG1heC13aWR0aDogNDAwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbi5zaGFyZS1wb3B1cCBoMixcclxuLmRlbGV0ZS1wb3B1cCBoMiB7XHJcbiAgICBjb2xvcjogI0VDRjBGMTtcclxufVxyXG5cclxuaW5wdXRbdHlwZT1cImVtYWlsXCJdIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgI0FBQjdCODtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XHJcbn1cclxuXHJcbi8qIEJ1dHRvbnMgaW5zaWRlIHBvcHVwcyAqL1xyXG4ub3ZlcmxheSBidXR0b24ge1xyXG4gICAgcGFkZGluZzogMTBweCAyMHB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xyXG4gICAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjJzIGVhc2U7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbn1cclxuXHJcbi5vdmVybGF5IGJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRTc0QzNDO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","VoyageCardHandlerComponent_div_1_Template_button_click_6_listener","restoredCtx","ɵɵrestoreView","_r5","voyage_r3","$implicit","ctx_r4","ɵɵnextContext","ɵɵresetView","confirmDelete","id","VoyageCardHandlerComponent_div_1_Template_button_click_8_listener","ctx_r6","showShareDialog","ɵɵadvance","ɵɵtextInterpolate","title","description","ɵɵproperty","coverImageUrl","ɵɵsanitizeUrl","VoyageCardHandlerComponent_div_2_Template_input_ngModelChange_6_listener","$event","_r8","ctx_r7","emailToShare","VoyageCardHandlerComponent_div_2_Template_button_click_7_listener","ctx_r9","shareVoyage","selectedVoyageId","VoyageCardHandlerComponent_div_2_Template_button_click_9_listener","ctx_r10","closeOverlay","ctx_r1","VoyageCardHandlerComponent_div_3_Template_button_click_4_listener","_r12","ctx_r11","deleteVoyage","VoyageCardHandlerComponent_div_3_Template_button_click_6_listener","ctx_r13","VoyageCardHandlerComponent","constructor","voyageService","voyages","showShareOverlay","showDeleteConfirmation","ngOnInit","fetchVoyages","getAllVoyages","subscribe","data","error","console","voyageId","filter","voyage","log","_","ɵɵdirectiveInject","i1","VoyageService","_2","selectors","decls","vars","consts","template","VoyageCardHandlerComponent_Template","rf","ctx","ɵɵtemplate","VoyageCardHandlerComponent_div_1_Template","VoyageCardHandlerComponent_div_2_Template","VoyageCardHandlerComponent_div_3_Template"],"sources":["C:\\Users\\Zachary\\Desktop\\TP3WebVanierZachary\\TP3VanierZachary(NG)\\test\\src\\app\\voyage-card-handler\\voyage-card-handler.component.ts","C:\\Users\\Zachary\\Desktop\\TP3WebVanierZachary\\TP3VanierZachary(NG)\\test\\src\\app\\voyage-card-handler\\voyage-card-handler.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { VoyageService } from '../voyage.service';\n\n@Component({\n  selector: 'app-voyage-card-handler',\n  templateUrl: './voyage-card-handler.component.html',\n  styleUrls: ['./voyage-card-handler.component.css']\n})\nexport class VoyageCardHandlerComponent implements OnInit {\n  voyages: any[] = [];\n  showShareOverlay: boolean = false;\n  showDeleteConfirmation: boolean = false;\n  selectedVoyageId: number | null = null;\n  emailToShare: string = '';\n\n  constructor(private voyageService: VoyageService) { }\n\n  ngOnInit(): void {\n    this.fetchVoyages();\n  }\n\n  fetchVoyages(): void {\n    this.voyageService.getAllVoyages().subscribe(data => {\n      this.voyages = data;\n    }, error => {\n      console.error('Error fetching voyages', error);\n    });\n  }\n\n  confirmDelete(voyageId: number): void {\n    this.selectedVoyageId = voyageId;\n    this.showDeleteConfirmation = true;\n  }\n\n  deleteVoyage(): void {\n    if (this.selectedVoyageId !== null) {\n      this.voyageService.deleteVoyage(this.selectedVoyageId).subscribe(() => {\n        this.voyages = this.voyages.filter(voyage => voyage.id !== this.selectedVoyageId);\n        this.closeOverlay();\n      }, error => {\n        console.error('Error deleting voyage', error);\n      });\n    }\n  }\n\n  showShareDialog(voyageId: number): void {\n    this.selectedVoyageId = voyageId;\n    this.showShareOverlay = true;\n  }\n\n  shareVoyage(): void {\n    if (this.selectedVoyageId !== null) {\n      // Implement sharing logic here\n      console.log(`Sharing voyage ${this.selectedVoyageId} with ${this.emailToShare}`);\n      // Call API to share voyage, and then...\n      this.closeOverlay();\n    }\n  }\n\n  closeOverlay(): void {\n    this.showShareOverlay = false;\n    this.showDeleteConfirmation = false;\n    this.selectedVoyageId = null;\n    this.emailToShare = '';\n  }\n}\n","<div class=\"card-container\">\n    <div *ngFor=\"let voyage of voyages\" class=\"voyage-card\">\n      <h3>{{ voyage.title }}</h3>\n      <p>{{ voyage.description }}</p>\n      <img [src]=\"voyage.coverImageUrl\" alt=\"Cover image\">\n      <button (click)=\"confirmDelete(voyage.id)\">Delete</button>\n      <button (click)=\"showShareDialog(voyage.id)\">Share</button>\n    </div>\n  </div>\n  \n  <!-- Overlay for Sharing Voyage -->\n  <div *ngIf=\"showShareOverlay\" class=\"overlay\">\n    <div class=\"share-popup\">\n      <h2>Partager le voyage</h2>\n      <label for=\"email\">Courriel de l'utilisateur:</label>\n      <input type=\"email\" [(ngModel)]=\"emailToShare\" id=\"email\">\n      <button (click)=\"shareVoyage(selectedVoyageId)\">Inviter</button>\n      <button (click)=\"closeOverlay()\">Annuler</button>\n    </div>\n  </div>\n  \n  <!-- Overlay for Confirm Delete -->\n  <div *ngIf=\"showDeleteConfirmation\" class=\"overlay\">\n    <div class=\"delete-popup\">\n      <h2>Are you sure you want to delete this voyage?</h2>\n      <button (click)=\"deleteVoyage(selectedVoyageId)\">Yes</button>\n      <button (click)=\"closeOverlay()\">No</button>\n    </div>\n  </div>\n  "],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}